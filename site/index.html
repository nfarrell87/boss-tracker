<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SG4XVYH33X"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-SG4XVYH33X');
  </script>
  <meta charset="UTF-8" />
  <title>Eden Spawn Timers (V2.0)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon -->
  <link rel="icon" href="https://clipart-library.com/8300/dragon-head-drawing.png" type="image/png" />

  <!-- Tailwind CSS (via CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
  <script src="theme.js"></script>
  <style>
    /* ========== THEME: accent from color picker (title, group titles, lines). Boss names fixed. ========== */
    :root {
      --accent-r: 239; --accent-g: 198; --accent-b: 54;
      --accent: rgb(var(--accent-r), var(--accent-g), var(--accent-b));
      --accent-light: rgb(253, 224, 71);
    }
    .banner-image {
      background-image: url('https://mmos.com/wp-content/smush-webp/2017/10/dark-age-of-camelot-16th-anniversary-news.jpg.webp');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      height: 300px;
    }
    .accent-text { color: var(--accent) !important; }
    .accent-border-bottom { border-color: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.5) !important; }
    .boss-name { color: rgb(253, 230, 180) !important; }
    .boss-card.condensed .boss-name-condensed { color: rgb(156, 163, 175) !important; }
    #swing-speed-btn, #buffs-cap-btn, .bonus-math-link {
      color: var(--accent);
      transition: color 0.15s ease;
    }
    #swing-speed-btn:hover, #buffs-cap-btn:hover, .bonus-math-link:hover {
      color: var(--accent-light);
    }
    .boss-card {
      background: linear-gradient(165deg, rgb(42, 50, 68) 0%, rgb(30, 36, 50) 50%, rgb(22, 28, 40) 100%);
      border: 1px solid rgba(75, 85, 99, 0.5);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5), 0 1px 3px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.04);
    }
    .boss-status-up {
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4), 0 2px 6px rgba(0, 0, 0, 0.25), 0 0 6px rgba(74, 222, 128, 0.5), 0 0 12px rgba(74, 222, 128, 0.2) !important;
    }
    .boss-status-window {
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4), 0 2px 6px rgba(0, 0, 0, 0.25), 0 0 6px rgba(250, 204, 21, 0.5), 0 0 12px rgba(250, 204, 21, 0.2) !important;
    }
    .boss-status-down {
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4), 0 2px 6px rgba(0, 0, 0, 0.25), 0 0 6px rgba(255, 100, 100, 0.5), 0 0 12px rgba(255, 100, 100, 0.2) !important;
    }
    .boss-card.condensed {
      padding: 0.5rem 0.75rem;
      width: 100%;
      min-height: 0;
      background: linear-gradient(165deg, rgb(48, 56, 72) 0%, rgb(36, 42, 56) 50%, rgb(30, 36, 48) 100%);
      border-radius: 0.375rem;
      border: 1px solid rgba(75, 85, 99, 0.45);
    }
    .category-card {
      background: linear-gradient(165deg, rgb(40, 48, 64) 0%, rgb(28, 34, 48) 50%, rgb(20, 26, 38) 100%);
      border: 1px solid rgba(75, 85, 99, 0.5);
      border-radius: 0.5rem;
      padding: 0.75rem 1rem;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.04), 0 0 0 1px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.06);
      min-height: 0;
    }
    .status-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .status-indicator-up { background: rgb(74, 222, 128); box-shadow: 0 0 8px rgba(74, 222, 128, 0.6); }
    .status-indicator-window { background: rgb(250, 204, 21); box-shadow: 0 0 8px rgba(250, 204, 21, 0.6); }
    .status-indicator-down { background: rgb(255, 100, 100); box-shadow: 0 0 8px rgba(255, 100, 100, 0.6); }
    .status-indicator-unknown { background: rgb(107, 114, 128); box-shadow: 0 0 6px rgba(107, 114, 128, 0.4); }
    .boss-history-table {
      border-color: rgba(75, 85, 99, 0.6);
    }
    /* View toggle */
    .view-toggle {
      margin-top: 0.25rem;
    }
    .view-toggle-track {
      display: inline-flex;
      position: relative;
      padding: 4px;
      background: rgb(26, 31, 44);
      border: 1px solid rgba(75, 85, 99, 0.6);
      border-radius: 9999px;
      box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3);
    }
    .view-toggle-slider {
      position: absolute;
      top: 4px;
      left: 4px;
      width: calc(50% - 4px);
      height: calc(100% - 8px);
      background: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.25);
      border: 1px solid rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.5);
      border-radius: 9999px;
      box-shadow: 0 0 0 1px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.2);
      transition: transform 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
      z-index: 0;
    }
    .view-toggle-track .view-toggle-slider {
      transform: translateX(0);
    }
    .view-toggle-track.detailed .view-toggle-slider {
      transform: translateX(0);
    }
    .view-toggle-track.condensed .view-toggle-slider {
      transform: translateX(100%);
    }
    .view-toggle-option {
      position: relative;
      z-index: 1;
      padding: 6px 18px;
      font-size: 0.8125rem;
      font-weight: 500;
      color: rgb(229, 231, 235);
      background: transparent;
      border: none;
      border-radius: 9999px;
      cursor: pointer;
      transition: color 0.25s ease, transform 0.2s ease;
    }
    .view-toggle-option:hover {
      color: rgb(243, 244, 246);
      transform: scale(1.02);
    }
    .view-toggle-option:active {
      transform: scale(0.98);
    }
    .view-toggle-option:focus-visible {
      outline: 2px solid rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.6);
      outline-offset: 2px;
    }
    .view-toggle-track.condensed .view-toggle-option[data-view="condensed"],
    .view-toggle-track.detailed .view-toggle-option[data-view="detailed"] {
      color: var(--accent-light);
    }
    /* Modal: custom inputs */
    .swing-input {
      width: 100%;
      padding: 0.5rem 0.75rem;
      font-size: 0.9375rem;
      color: rgb(243, 244, 246);
      background: rgb(31, 41, 55);
      border: 1px solid rgb(55, 65, 81);
      border-radius: 0.5rem;
      transition: border-color 0.15s ease, box-shadow 0.15s ease;
    }
    .swing-input::placeholder {
      color: rgb(107, 114, 128);
    }
    .swing-input:hover {
      border-color: rgb(75, 85, 99);
    }
    .swing-input:focus {
      outline: none;
      border-color: rgb(96, 165, 250);
      box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
    }
    .swing-modal-panel {
      background: linear-gradient(165deg, rgb(44, 52, 70) 0%, rgb(32, 38, 52) 50%, rgb(24, 30, 42) 100%);
      border: 1px solid rgba(75, 85, 99, 0.6);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }
    .swing-result-box {
      background: rgba(59, 130, 246, 0.08);
      border: 1px solid rgba(96, 165, 250, 0.2);
      border-radius: 0.5rem;
      padding: 0.75rem 1rem;
    }
    .swing-speed-result-box {
      background: rgba(59, 130, 246, 0.12);
      border: 1px solid rgba(96, 165, 250, 0.35);
      border-radius: 0.5rem;
      padding: 1rem 1.25rem;
      text-align: center;
      box-shadow: 0 0 0 1px rgba(96, 165, 250, 0.1);
    }
    .buffs-result-box {
      padding: 1rem 1.25rem;
    }
    .swing-btn-calc {
      background-color: rgb(37, 99, 235) !important;
      color: rgb(255, 255, 255) !important;
      transition: background-color 0.15s ease;
    }
    .swing-btn-calc:hover {
      background-color: rgb(59, 130, 246) !important;
      color: rgb(255, 255, 255) !important;
    }
    .swing-btn-close {
      background-color: rgb(55, 65, 81) !important;
      color: rgb(229, 231, 235) !important;
    }
    .swing-btn-close:hover {
      background-color: rgb(75, 85, 99) !important;
      color: rgb(243, 244, 246) !important;
    }
    .swing-formula-code {
      font-family: ui-monospace, monospace;
      font-size: 0.8125rem;
      color: rgb(209, 213, 219);
      background: rgb(31, 41, 55);
      border: 1px solid rgb(55, 65, 81);
      border-radius: 0.375rem;
      padding: 0.5rem 0.75rem;
      overflow-x: auto;
    }
    .realm-glow-midgard { box-shadow: 0 0 0 1px rgba(70, 164, 254, 0.4), 0 0 12px rgba(70, 164, 254, 0.25); }
    .realm-glow-albion { box-shadow: 0 0 0 1px rgba(249, 102, 105, 0.4), 0 0 12px rgba(249, 102, 105, 0.25); }
    .realm-glow-hibernia { box-shadow: 0 0 0 1px rgba(68, 213, 108, 0.4), 0 0 12px rgba(68, 213, 108, 0.25); }
    /* Realm radio cards */
    .realm-radio-card {
      position: relative;
      cursor: pointer;
      border-radius: 0.5rem;
      border: 2px solid transparent;
      padding: 0.875rem 1rem;
      transition: all 0.2s ease;
      background: rgb(31, 41, 55);
      overflow: hidden;
    }
    .realm-radio-card::before {
      content: '';
      position: absolute;
      inset: 0;
      opacity: 0;
      transition: opacity 0.2s ease;
    }
    .realm-radio-card.realm-midgard { border-color: rgba(70, 164, 254, 0.35); }
    .realm-radio-card.realm-midgard::before { background: linear-gradient(135deg, rgba(70, 164, 254, 0.12) 0%, transparent 60%); }
    .realm-radio-card.realm-albion { border-color: rgba(249, 102, 105, 0.35); }
    .realm-radio-card.realm-albion::before { background: linear-gradient(135deg, rgba(249, 102, 105, 0.12) 0%, transparent 60%); }
    .realm-radio-card.realm-hibernia { border-color: rgba(68, 213, 108, 0.35); }
    .realm-radio-card.realm-hibernia::before { background: linear-gradient(135deg, rgba(68, 213, 108, 0.12) 0%, transparent 60%); }
    .realm-radio-card:hover { transform: translateY(-1px); }
    .realm-radio-card.realm-midgard:hover { box-shadow: 0 0 0 1px rgba(70, 164, 254, 0.5), 0 0 16px rgba(70, 164, 254, 0.2); }
    .realm-radio-card.realm-albion:hover { box-shadow: 0 0 0 1px rgba(249, 102, 105, 0.5), 0 0 16px rgba(249, 102, 105, 0.2); }
    .realm-radio-card.realm-hibernia:hover { box-shadow: 0 0 0 1px rgba(68, 213, 108, 0.5), 0 0 16px rgba(68, 213, 108, 0.2); }
    .realm-radio-card.realm-midgard.selected { box-shadow: 0 0 0 2px rgba(70, 164, 254, 0.4), 0 0 20px rgba(70, 164, 254, 0.35); border-color: rgba(70, 164, 254, 0.6); }
    .realm-radio-card.realm-midgard.selected::before { opacity: 1; }
    .realm-radio-card.realm-albion.selected { box-shadow: 0 0 0 2px rgba(249, 102, 105, 0.4), 0 0 20px rgba(249, 102, 105, 0.35); border-color: rgba(249, 102, 105, 0.6); }
    .realm-radio-card.realm-albion.selected::before { opacity: 1; }
    .realm-radio-card.realm-hibernia.selected { box-shadow: 0 0 0 2px rgba(68, 213, 108, 0.4), 0 0 20px rgba(68, 213, 108, 0.35); border-color: rgba(68, 213, 108, 0.6); }
    .realm-radio-card.realm-hibernia.selected::before { opacity: 1; }
    .realm-radio-card .realm-dot {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      width: 0.5rem;
      height: 0.5rem;
      border-radius: 50%;
      opacity: 0;
      transition: opacity 0.2s ease, transform 0.2s ease;
    }
    .realm-radio-card.realm-midgard .realm-dot { background: rgb(70, 164, 254); }
    .realm-radio-card.realm-albion .realm-dot { background: rgb(249, 102, 105); }
    .realm-radio-card.realm-hibernia .realm-dot { background: rgb(68, 213, 108); }
    .realm-radio-card.selected .realm-dot { opacity: 1; transform: scale(1.2); }
    /* Category filter pills */
    .filter-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: 9999px;
      font-size: 0.875rem;
      font-weight: 500;
      font-family: inherit;
      cursor: pointer;
      user-select: none;
      transition: all 0.2s ease;
      background: rgb(55, 65, 81);
      border: 1px solid rgb(75, 85, 99);
      color: rgb(229, 231, 235);
      appearance: none;
    }
    .filter-pill:hover {
      background: rgb(75, 85, 99);
      border-color: rgb(107, 114, 128);
      transform: translateY(-1px);
    }
    .filter-pill.active {
      background: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.2);
      border-color: rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.5);
      color: var(--accent-light);
      box-shadow: 0 0 0 1px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.2);
    }
    .filter-pill-disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .filter-pill-disabled:hover {
      transform: none;
    }
    /* Category section titles (detailed view) - accent from picker */
    .category-section-title {
      color: var(--accent);
      border-bottom: 2px solid rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.4);
      text-shadow: 0 0 20px rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.15);
    }
  </style>
</head>

<body class="text-white font-sans" style="background: linear-gradient(180deg, rgb(14, 17, 26) 0%, rgb(10, 12, 18) 50%, rgb(8, 10, 16) 100%); min-height: 100vh;">

  <!-- Header: highest elevation, hero presence, subtle gold accent -->
  <div class="site-header" style="background: linear-gradient(165deg, rgb(34, 40, 54) 0%, rgb(26, 32, 46) 100%); border-bottom: 1px solid rgba(75, 85, 99, 0.5); box-shadow: 0 1px 0 0 rgba(var(--accent-r), var(--accent-g), var(--accent-b), 0.15), 0 4px 12px rgba(0, 0, 0, 0.3);">
    <div class="flex justify-center items-center pt-4 gap-4">
      <img src="https://cdn-icons-png.freepik.com/512/477/477110.png" alt="Left Icon" class="h-16 w-auto" />
      <div class="text-center">
        <h1 class="text-4xl font-bold accent-text">Eden DAoC Boss Spawn Timers</h1>
        <p class="text-gray-400 mt-2">Live updates from Discord kill feed, made by Frick <span class="text-gray-500 text-sm">V2.0</span></p>
        <p class="text-sm text-gray-500 mt-0 flex flex-wrap items-center justify-center gap-x-3 gap-y-1"><button type="button" id="swing-speed-btn" class="focus:outline-none bg-transparent border-0 cursor-pointer p-0 font-inherit">Swing Speed</button><span class="text-gray-600">|</span><button type="button" id="buffs-cap-btn" class="focus:outline-none bg-transparent border-0 cursor-pointer p-0 font-inherit">Buff Caps</button><span class="text-gray-600">|</span><a href="campaign/" class="bonus-math-link focus:outline-none bg-transparent cursor-pointer no-underline font-inherit">Campaign Calculator</a><span class="text-gray-600">|</span><span class="accent-text font-medium">Accent:</span><span id="theme-switcher" class="inline-flex items-center align-middle"></span></p>
        <p class="text-sm text-gray-400 mt-0">email: frick@wtfrickisup.com</p>
      </div>
      <img src="https://clipart-library.com/8300/dragon-head-drawing.png" alt="Right Icon" class="h-16 w-auto" />
    </div>
  </div>

  <!-- Subheader: toolbar elevation, distinct from header and content -->
  <div class="subheader" style="background: linear-gradient(180deg, rgb(22, 26, 38) 0%, rgb(18, 22, 32) 100%); border-bottom: 1px solid rgba(75, 85, 99, 0.5);">
    <div class="pt-4">
      <div id="category-filters" class="flex flex-wrap justify-center gap-3 px-4 text-white">
        <!-- Checkboxes will be dynamically added here -->
      </div>
      <p class="text-xs text-center pb-2 pt-1 text-gray-300">Click to show or hide categories</p>
    </div>
    <div class="update-bar text-center text-gray-300 flex flex-col items-center gap-2 pb-4">
      <div id="view-toggle" class="view-toggle" role="switch" aria-checked="false" aria-label="Toggle view mode">
        <div class="view-toggle-track">
          <div class="view-toggle-slider"></div>
          <button type="button" class="view-toggle-option" data-view="detailed">Detailed</button>
          <button type="button" class="view-toggle-option" data-view="condensed">Condensed</button>
        </div>
      </div>
      <div id="update-info"></div>
    </div>
  </div>
 
  <!-- Swing Speed Calculator Modal -->
  <div id="swing-speed-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4" aria-hidden="true">
    <div id="swing-speed-backdrop" class="absolute inset-0 bg-black/60 backdrop-blur-sm" aria-hidden="true"></div>
    <div class="relative flex min-h-full items-center justify-center p-4">
      <div class="swing-modal-panel relative w-full max-w-lg rounded-xl p-6 text-gray-200">
        <div class="relative mb-3">
          <div class="text-center pr-10">
            <h3 class="text-xl font-semibold text-white">Swing Speed Calculator</h3>
            <p class="text-sm text-gray-400 mt-1.5">Target <strong class="text-amber-400">1.5s</strong> cap between weapons, quickness, TOA, haste, celerity.</p>
            <button type="button" id="swing-speed-info-btn-header" class="hidden text-sm text-blue-400 hover:text-blue-300 mt-2 focus:outline-none underline">How it’s calculated</button>
          </div>
          <button type="button" id="swing-speed-close" class="absolute top-0 right-0 text-gray-400 hover:text-white focus:outline-none text-2xl leading-none w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-600/50 transition-colors" aria-label="Close">&times;</button>
        </div>
        <form id="swing-speed-form" class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 mt-5">
          <div class="space-y-4">
            <div>
              <label for="mainhand-speed" class="block text-sm font-medium text-gray-300 mb-1">Mainhand Weapon Speed</label>
              <input id="mainhand-speed" type="number" value="4.5" step="0.1" class="swing-input" />
            </div>
            <div>
              <label for="offhand-speed" class="block text-sm font-medium text-gray-300 mb-1">Offhand <span class="text-gray-500 font-normal">(optional)</span></label>
              <input id="offhand-speed" type="number" placeholder="Leave blank for 1H" step="0.1" class="swing-input" />
            </div>
            <div>
              <label for="quickness" class="block text-sm font-medium text-gray-300 mb-1">Quickness (250 cap)</label>
              <input id="quickness" type="number" value="0" step="1" class="swing-input" />
            </div>
          </div>
          <div class="space-y-4">
            <div>
              <label for="toa-melee-speed" class="block text-sm font-medium text-gray-300 mb-1">TOA Melee Speed (%)</label>
              <input id="toa-melee-speed" type="number" value="0" step="1" class="swing-input" />
            </div>
            <div>
              <label for="haste" class="block text-sm font-medium text-gray-300 mb-1">Haste (%)</label>
              <input id="haste" type="number" value="0" step="1" class="swing-input" />
            </div>
            <div>
              <label for="celerity" class="block text-sm font-medium text-gray-300 mb-1">Celerity (%)</label>
              <input id="celerity" type="number" value="0" step="1" class="swing-input" />
            </div>
          </div>
        </form>
        <div id="swing-speed-results" class="mt-5">
          <div class="swing-result-box swing-speed-result-box">
            <p class="text-xs text-gray-500 uppercase tracking-wide mb-1">Your swing speed</p>
            <p id="swing-speed-result-text" class="text-lg font-semibold text-blue-400">—</p>
            <p id="swing-speed-disclaimer" class="text-sm text-gray-400 mt-1"></p>
          </div>
        </div>
        <div class="mt-5 flex justify-between items-center">
          <button type="button" id="swing-speed-close-btn" class="swing-btn-close rounded-lg px-5 py-2.5 font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-colors">Close</button>
          <button type="button" id="swing-speed-info-btn" class="text-sm text-blue-400 hover:text-blue-300 focus:outline-none underline">How this works</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Swing Speed Formula Info Modal -->
  <div id="swing-speed-info-modal" class="fixed inset-0 z-[60] hidden flex items-center justify-center p-4" aria-hidden="true">
    <div id="swing-speed-info-backdrop" class="absolute inset-0 bg-black/70 backdrop-blur-sm" aria-hidden="true"></div>
    <div class="relative flex min-h-full items-center justify-center p-4">
      <div class="swing-modal-panel relative w-full max-w-lg rounded-xl p-6 text-gray-200">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-semibold text-white">How the Swing Speed Calculator works</h3>
          <button type="button" id="swing-speed-info-close" class="text-gray-400 hover:text-white focus:outline-none text-2xl leading-none w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-600/50 transition-colors" aria-label="Close">&times;</button>
        </div>
        <p class="text-sm text-gray-400 mb-3">Quickness is capped at 250. Percentages are applied as decimals (e.g. 10% → 0.1).</p>
        <div class="swing-formula-code mb-3">
          step1 = weaponSpeed × 100 × (1 − (min(250, quickness) − 50) / 500)<br>
          step2 = floor(step1) × (1 − haste − celerity)<br>
          step3 = floor(step2) × (1 − toaMeleeSpeed)<br>
          speed = floor(step3) / 100
        </div>
        <p class="text-sm text-gray-400 mb-2"><strong class="text-gray-300">Dual wield:</strong> compute mainhand and offhand separately, then average the two speeds.</p>
        <p class="text-sm text-gray-400"><strong class="text-amber-400">Cap:</strong> 1.5s is the minimum swing speed in-game; results below 1.5s are effectively 1.5s.</p>
        <div class="mt-4">
          <button type="button" id="swing-speed-info-close-btn" class="swing-btn-close rounded-lg px-4 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-colors">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Buffs Cap Calculator Modal -->
  <div id="buffs-cap-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" aria-hidden="true">
    <div id="buffs-cap-backdrop" class="absolute inset-0 bg-black/60 backdrop-blur-sm" aria-hidden="true"></div>
    <div class="relative flex min-h-min w-full items-start justify-center p-4 py-8">
      <div class="swing-modal-panel relative rounded-xl p-6 text-gray-200 shrink-0 overflow-y-auto max-h-[85vh]" style="width: 80vw; max-width: 900px;">
        <div class="relative mb-4">
          <div class="flex flex-col items-center text-center">
            <h3 class="text-2xl font-semibold text-white">Buffs Cap Calculator</h3>
            <p class="text-sm text-gray-400 mt-2">Base buffs (DEX, STR, CON) cap at <strong class="text-amber-400">62</strong>.<br>Spec buffs (S/C, D/Q, Acuity) cap at <strong class="text-amber-400">93</strong>.<br>Based on TOA bonus, natural spec, and items/RR.<br><span class="text-gray-500 text-xs">Spec buffs show N/A until your natural spec is high enough to have that spell—then values appear.</span></p>
          </div>
          <button type="button" id="buffs-cap-close" class="absolute top-0 right-0 text-gray-400 hover:text-white focus:outline-none text-2xl leading-none w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-600/50 transition-colors" aria-label="Close">&times;</button>
        </div>

        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-300 mb-3">Realm / Class</label>
          <div id="buffs-class-wrap" class="grid grid-cols-1 sm:grid-cols-3 gap-3">
            <label class="realm-radio-card realm-albion selected" data-realm="albion">
              <input type="radio" name="buffs-class" value="albion" checked class="sr-only" />
              <span class="realm-dot" aria-hidden="true"></span>
              <div class="font-semibold" style="color: rgb(249, 102, 105);">Albion</div>
              <div class="text-xs text-gray-500 mt-0.5">(Enhancement)</div>
              <div class="text-xs text-gray-400 mt-1">Friar / Cleric / Heretic</div>
            </label>
            <label class="realm-radio-card realm-hibernia" data-realm="hibernia">
              <input type="radio" name="buffs-class" value="hibernia" class="sr-only" />
              <span class="realm-dot" aria-hidden="true"></span>
              <div class="font-semibold" style="color: rgb(68, 213, 108);">Hibernia</div>
              <div class="text-xs text-gray-500 mt-0.5">(Nurture)</div>
              <div class="text-xs text-gray-400 mt-1">Druid / Warden / Bard</div>
            </label>
            <label class="realm-radio-card realm-midgard" data-realm="midgard">
              <input type="radio" name="buffs-class" value="midgard" class="sr-only" />
              <span class="realm-dot" aria-hidden="true"></span>
              <div class="font-semibold" style="color: rgb(70, 164, 254);">Midgard</div>
              <div class="text-xs text-gray-500 mt-0.5">(Augmentation)</div>
              <div class="text-xs text-gray-400 mt-1">Healer / Shaman</div>
            </label>
          </div>
        </div>

        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6">
          <div>
            <label for="buffs-toa" class="block text-sm font-medium text-gray-300 mb-1">TOA Buff Bonus (%)</label>
            <input id="buffs-toa" type="number" value="25" step="1" class="swing-input" />
          </div>
          <div>
            <label for="buffs-aug" id="buffs-aug-label" class="block text-sm font-medium text-gray-300 mb-1">Natural Aug Spec</label>
            <input id="buffs-aug" type="number" value="6" step="1" class="swing-input" />
          </div>
          <div>
            <label for="buffs-items" class="block text-sm font-medium text-gray-300 mb-1">+ from Items and RR</label>
            <input id="buffs-items" type="number" value="15" step="1" class="swing-input" />
          </div>
        </div>
        <div id="buffs-cap-results" class="flex flex-col items-center gap-4 w-full">
          <div class="swing-result-box buffs-result-box w-full text-center">
            <p class="text-sm font-medium text-gray-300 mb-3">Actual buff value</p>
            <div class="grid grid-cols-8 gap-2 text-sm text-center">
              <span class="text-gray-500"></span><span class="text-gray-500">DEX</span><span class="text-gray-500">STR</span><span class="text-gray-500">CON</span><span class="text-gray-500">AF</span><span class="text-gray-500">S/C</span><span class="text-gray-500">D/Q</span><span class="text-gray-500">Acuity</span>
              <span style="color: #E57373;">Red buffs</span>
              <span id="buffs-out-dex-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-out-str-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-out-con-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-out-af-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-spec-strcon-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-spec-dexqui-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-spec-acuity-h" class="font-medium" style="color: #D46A6A;"></span>
              <span style="color: #C4A035;">Yellow buffs</span>
              <span id="buffs-out-dex-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-out-str-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-out-con-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-out-af-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-spec-strcon-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-spec-dexqui-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-spec-acuity-l" class="font-medium" style="color: #C4A035;"></span>
            </div>
          </div>
          <div class="swing-result-box buffs-result-box w-full text-center">
            <p class="text-sm font-medium text-gray-300 mb-3">Missing from cap (62 / 93)</p>
            <div class="grid grid-cols-8 gap-2 text-sm text-center">
              <span class="text-gray-500"></span><span class="text-gray-500">DEX</span><span class="text-gray-500">STR</span><span class="text-gray-500">CON</span><span class="text-gray-500">AF</span><span class="text-gray-500">S/C</span><span class="text-gray-500">D/Q</span><span class="text-gray-500">Acuity</span>
              <span style="color: #E57373;">Red buffs</span>
              <span id="buffs-miss-dex-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-miss-str-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-miss-con-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-miss-af-h" class="text-gray-500">—</span>
              <span id="buffs-spec-strcon-miss-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-spec-dexqui-miss-h" class="font-medium" style="color: #D46A6A;"></span>
              <span id="buffs-spec-acuity-miss-h" class="font-medium" style="color: #D46A6A;"></span>
              <span style="color: #C4A035;">Yellow buffs</span>
              <span id="buffs-miss-dex-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-miss-str-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-miss-con-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-miss-af-l" class="text-gray-500">—</span>
              <span id="buffs-spec-strcon-miss-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-spec-dexqui-miss-l" class="font-medium" style="color: #C4A035;"></span>
              <span id="buffs-spec-acuity-miss-l" class="font-medium" style="color: #C4A035;"></span>
            </div>
          </div>
        </div>

        <div class="mt-6 pt-2 flex justify-between items-center">
          <button type="button" id="buffs-cap-close-btn" class="swing-btn-close rounded-lg px-5 py-2.5 font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-colors">Close</button>
          <button type="button" id="buffs-cap-info-btn" class="text-sm text-blue-400 hover:text-blue-300 focus:outline-none underline">How this works</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Buffs Cap How This Works Modal -->
  <div id="buffs-cap-info-modal" class="fixed inset-0 z-[60] hidden flex items-center justify-center p-4" aria-hidden="true">
    <div id="buffs-cap-info-backdrop" class="absolute inset-0 bg-black/70 backdrop-blur-sm" aria-hidden="true"></div>
    <div class="relative flex min-h-full w-full items-center justify-center p-4">
      <div class="swing-modal-panel relative rounded-xl p-6 text-gray-200 max-h-[90vh] overflow-y-auto" style="width: 60vw; max-width: 700px; flex-shrink: 0;">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-semibold text-white">How the Buffs Cap Calculator works</h3>
          <button type="button" id="buffs-cap-info-close" class="text-gray-400 hover:text-white focus:outline-none text-2xl leading-none w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-600/50 transition-colors" aria-label="Close">&times;</button>
        </div>

        <div class="space-y-4 text-sm text-gray-300">
          <p><strong class="text-white">What it does:</strong> Estimates how much DEX, STR, CON, AF, and spec buffs (S/C, D/Q, Acuity) your buffs actually give, based on your natural spec, TOA bonus, and items.</p>

          <p><strong class="text-amber-400">The cap:</strong> DEX, STR, and CON from base buffs are capped at <strong>62</strong>. Spec buffs (S/C, D/Q, Acuity) are capped at <strong>93</strong>. No matter how high your buffs are, you can’t go past those caps. AF cap is determined by gear, not spells.</p>

          <p><strong class="text-white">Spec buffs and N/A:</strong> Spec buff columns (S/C, D/Q, Acuity) show <strong>N/A</strong> until your natural spec is high enough to have that spell. Once you reach the required spec level, the values appear and the formula applies.</p>

          <p><strong class="text-white">Your inputs:</strong></p>
          <ul class="list-disc list-inside space-y-1 text-gray-400 ml-2">
            <li><strong class="text-gray-300">TOA Buff Bonus</strong> — Your % bonus from items.</li>
            <li><strong class="text-gray-300">Natural spec</strong> — Points you’ve put in the buff line</li>
            <li><strong class="text-gray-300">+ from items and RR</strong> — From gear, RA, RR, etc.</li>
          </ul>
          <p class="text-gray-400">Higher spec + more TOA + more items = bigger buffs, up to the cap.</p>

          <p><strong class="text-white">Base values by realm:</strong> Each realm’s buff line has different spell levels and delve values. <strong class="text-gray-300">Spell level</strong> = the spell's rank in the spec line (affects how much your composite spec scales the result). <strong class="text-gray-300">Delve</strong> = the base value from the spell tooltip (e.g. "Increases STR by 50"). The tables below show the exact values used for each realm.</p>
        </div>

        <p class="text-sm font-medium text-gray-300 mt-4 mb-2">Spell/delve values by realm</p>

        <p class="text-xs font-medium text-gray-400 mt-4 mb-2">Midgard (Aug)</p>
        <div class="swing-result-box buffs-result-box w-full text-center mb-4">
          <p class="text-sm font-medium text-gray-300 mb-3">Spell/delve</p>
          <div class="grid grid-cols-8 gap-2 text-sm text-center">
            <span class="text-gray-500"></span><span class="text-gray-500">DEX</span><span class="text-gray-500">STR</span><span class="text-gray-500">CON</span><span class="text-gray-500">AF</span><span class="text-gray-500">S/C</span><span class="text-gray-500">D/Q</span><span class="text-gray-500">Acuity</span>
            <span style="color: #E57373;">Red buffs</span>
            <span class="text-gray-300">48/48</span><span class="text-gray-300">50/50</span><span class="text-gray-300">47/47</span><span class="text-gray-300">42/52</span><span class="text-gray-300">46/69</span><span class="text-gray-300">47/70</span><span class="text-gray-300">42/52</span>
            <span style="color: #C4A035;">Yellow buffs</span>
            <span class="text-gray-300">37/39</span><span class="text-gray-300">43/44</span><span class="text-gray-300">38/40</span><span class="text-gray-300">31/41</span><span class="text-gray-300">36/57</span><span class="text-gray-300">37/60</span><span class="text-gray-300">31/41</span>
          </div>
        </div>

        <p class="text-xs font-medium text-gray-400 mt-4 mb-2">Albion (Enhancement)</p>
        <div class="swing-result-box buffs-result-box w-full text-center mb-4">
          <p class="text-sm font-medium text-gray-300 mb-3">Spell/delve</p>
          <div class="grid grid-cols-8 gap-2 text-sm text-center">
            <span class="text-gray-500"></span><span class="text-gray-500">DEX</span><span class="text-gray-500">STR</span><span class="text-gray-500">CON</span><span class="text-gray-500">AF</span><span class="text-gray-500">S/C</span><span class="text-gray-500">D/Q</span><span class="text-gray-500">Acuity</span>
            <span style="color: #E57373;">Red buffs</span>
            <span class="text-gray-300">48/48</span><span class="text-gray-300">50/50</span><span class="text-gray-300">43/44</span><span class="text-gray-300">42/52</span><span class="text-gray-300">46/69</span><span class="text-gray-300">50/75</span><span class="text-gray-300">42/52</span>
            <span style="color: #C4A035;">Yellow buffs</span>
            <span class="text-gray-300">38/40</span><span class="text-gray-300">41/42</span><span class="text-gray-300">33/36</span><span class="text-gray-300">31/41</span><span class="text-gray-300">35/57</span><span class="text-gray-300">40/63</span><span class="text-gray-300">31/41</span>
          </div>
        </div>

        <p class="text-xs font-medium text-gray-400 mt-4 mb-2">Hibernia (Nurture)</p>
        <div class="swing-result-box buffs-result-box w-full text-center mb-4">
          <p class="text-sm font-medium text-gray-300 mb-3">Spell/delve</p>
          <div class="grid grid-cols-8 gap-2 text-sm text-center">
            <span class="text-gray-500"></span><span class="text-gray-500">DEX</span><span class="text-gray-500">STR</span><span class="text-gray-500">CON</span><span class="text-gray-500">AF</span><span class="text-gray-500">S/C</span><span class="text-gray-500">D/Q</span><span class="text-gray-500">Acuity</span>
            <span style="color: #E57373;">Red buffs</span>
            <span class="text-gray-300">48/48</span><span class="text-gray-300">50/50</span><span class="text-gray-300">43/44</span><span class="text-gray-300">45/55</span><span class="text-gray-300">44/67</span><span class="text-gray-300">49/73</span><span class="text-gray-300">42/52</span>
            <span style="color: #C4A035;">Yellow buffs</span>
            <span class="text-gray-300">38/40</span><span class="text-gray-300">41/42</span><span class="text-gray-300">33/36</span><span class="text-gray-300">32/42</span><span class="text-gray-300">34/55</span><span class="text-gray-300">39/61</span><span class="text-gray-300">31/41</span>
          </div>
        </div>

        <p class="text-xs text-gray-500 mb-4"><strong class="text-gray-400">Missing from cap</strong> = cap − your actual buff value. Base buffs cap 62; spec buffs cap 93. AF shows "—" because gear determines the AF cap, not spells.</p>

        <p class="text-sm font-medium text-gray-300 mt-6 mb-2">The formula</p>
        <div class="swing-formula-code mb-3 text-sm">
          <p class="text-gray-400 mb-3"><strong>Base buffs (cap 62):</strong></p>
          <p class="font-mono text-gray-300 mb-1">effectiveness = 0.75 + (specLevel − 1) × 0.5 / (spellLevel − 1)</p>
          <p class="text-xs text-gray-500 mb-2">Min/max 0.75–1.25. The −1 terms reflect spell levels starting at 1, not 0. Composite (natural spec + items/RR) scales the buff.</p>
          <p class="font-mono text-gray-300 mb-1">ToA bonus is applied after</p>
          <p class="text-xs text-gray-500 mb-2">result = delve × effectiveness × (1 + toaDecimal). ToA capped at 1.25 (25%).</p>
          <p class="font-mono text-gray-300 mb-1">actual = floor(min(max(raw, 0.75 × delve), cap))</p>
          <p class="text-xs text-gray-500 mb-3">Floor at 75% of delve, apply stat cap (62), round down.</p>
          <p class="text-gray-400 mb-3"><strong>Spec buffs (cap 93):</strong></p>
          <p class="text-xs text-gray-500 mb-2">Same formula as base. Spec buffs show N/A until your natural spec is high enough to have that spell (you must reach the spell's level in the spec line). Once you have the spell, the values appear and the formula uses composite (natural spec + items/RR).</p>
          <p class="text-gray-400 mt-2 text-xs"><strong>Where:</strong> specLevel = natural spec + items/RR (composite). toaDecimal = TOA % ÷ 100.</p>
        </div>

        <button type="button" id="buffs-cap-info-close-btn" class="swing-btn-close rounded-lg px-4 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-colors">Close</button>
      </div>
    </div>
  </div>

  <!-- Boss Cards Section -->
  <div id="boss-container" class="flex flex-wrap justify-center gap-6 pt-4 px-10 pb-10" style="background: inherit;">
    <!-- Boss cards will be dynamically added here -->
  </div>

  <!-- Your script -->
  <script src="script.js"></script>
</body>

</html>